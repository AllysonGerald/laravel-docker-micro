.PHONY: help

# Cores para output
BLUE := \033[0;34m
GREEN := \033[0;32m
YELLOW := \033[0;33m
RED := \033[0;31m
CYAN := \033[0;36m
NC := \033[0m # No Color

##@ ğŸ¯ Ajuda

help: ## Mostra esta mensagem de ajuda
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)  ğŸ¨ Frontend - Comandos DisponÃ­veis$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@awk 'BEGIN {FS = ":.*##"; printf "\n"} /^[a-zA-Z_-]+:.*?##/ { printf "  $(YELLOW)%-30s$(NC) %s\n", $$1, $$2 } /^##@/ { printf "\n$(BLUE)%s$(NC)\n", substr($$0, 5) } ' $(MAKEFILE_LIST)
	@echo ""

##@ ğŸš€ Criar Projetos (Vite)

create-vue: ## Cria projeto Vue 3 com Vite
	@read -p "Nome do projeto (ex: my-vue-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Vue 3...$(NC)"; \
		npm create vue@latest $$name -- --typescript --router --pinia --vitest --eslint; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name$(NC)"; \
	fi

create-react: ## Cria projeto React com Vite
	@read -p "Nome do projeto (ex: my-react-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto React com Vite...$(NC)"; \
		npm create vite@latest $$name -- --template react-ts; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

create-react-js: ## Cria projeto React (JavaScript) com Vite
	@read -p "Nome do projeto (ex: my-react-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto React com Vite (JS)...$(NC)"; \
		npm create vite@latest $$name -- --template react; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

create-svelte: ## Cria projeto Svelte com Vite
	@read -p "Nome do projeto (ex: my-svelte-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Svelte com Vite...$(NC)"; \
		npm create vite@latest $$name -- --template svelte-ts; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

create-vanilla: ## Cria projeto Vanilla (TypeScript) com Vite
	@read -p "Nome do projeto (ex: my-vanilla-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Vanilla com Vite...$(NC)"; \
		npm create vite@latest $$name -- --template vanilla-ts; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

create-next: ## Cria projeto Next.js (React framework)
	@read -p "Nome do projeto (ex: my-next-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Next.js...$(NC)"; \
		npx create-next-app@latest $$name --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name$(NC)"; \
	fi

create-nuxt: ## Cria projeto Nuxt 3 (Vue framework)
	@read -p "Nome do projeto (ex: my-nuxt-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Nuxt 3...$(NC)"; \
		npx nuxi@latest init $$name; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

create-angular: ## Cria projeto Angular
	@read -p "Nome do projeto (ex: my-angular-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Angular...$(NC)"; \
		npx @angular/cli@latest new $$name --routing --style=css --strict; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name$(NC)"; \
	fi

create-remix: ## Cria projeto Remix (React framework)
	@read -p "Nome do projeto (ex: my-remix-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto Remix...$(NC)"; \
		npx create-remix@latest $$name; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

create-sveltekit: ## Cria projeto SvelteKit
	@read -p "Nome do projeto (ex: my-sveltekit-app): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do projeto Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸš€ Criando projeto SvelteKit...$(NC)"; \
		npm create svelte@latest $$name; \
		echo "$(GREEN)âœ… Projeto criado! Acesse: cd $$name && npm install$(NC)"; \
	fi

##@ ğŸ“¦ Gerenciamento de DependÃªncias

install: ## Instala dependÃªncias (npm install)
	@echo "$(GREEN)ğŸ“¦ Instalando dependÃªncias...$(NC)"
	@npm install

install-yarn: ## Instala dependÃªncias com Yarn
	@echo "$(GREEN)ğŸ“¦ Instalando dependÃªncias com Yarn...$(NC)"
	@yarn install

install-pnpm: ## Instala dependÃªncias com pnpm
	@echo "$(GREEN)ğŸ“¦ Instalando dependÃªncias com pnpm...$(NC)"
	@pnpm install

add: ## Adiciona nova dependÃªncia
	@read -p "Nome do pacote (ex: axios): " pkg; \
	if [ -z "$$pkg" ]; then \
		echo "$(RED)âŒ Nome do pacote Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)â• Instalando $$pkg...$(NC)"; \
		npm install $$pkg; \
	fi

add-dev: ## Adiciona dependÃªncia de desenvolvimento
	@read -p "Nome do pacote (ex: @types/node): " pkg; \
	if [ -z "$$pkg" ]; then \
		echo "$(RED)âŒ Nome do pacote Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)â• Instalando $$pkg (dev)...$(NC)"; \
		npm install -D $$pkg; \
	fi

remove: ## Remove dependÃªncia
	@read -p "Nome do pacote para remover: " pkg; \
	if [ -z "$$pkg" ]; then \
		echo "$(RED)âŒ Nome do pacote Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(RED)ğŸ—‘ï¸  Removendo $$pkg...$(NC)"; \
		npm uninstall $$pkg; \
	fi

update: ## Atualiza todas as dependÃªncias
	@echo "$(YELLOW)ğŸ”„ Atualizando dependÃªncias...$(NC)"
	@npm update

outdated: ## Lista pacotes desatualizados
	@echo "$(YELLOW)ğŸ“‹ Verificando pacotes desatualizados...$(NC)"
	@npm outdated

clean-install: ## Limpa node_modules e reinstala
	@echo "$(YELLOW)ğŸ§¹ Limpando e reinstalando...$(NC)"
	@rm -rf node_modules package-lock.json
	@npm install
	@echo "$(GREEN)âœ… Limpeza concluÃ­da!$(NC)"

##@ ğŸ› ï¸ Desenvolvimento

dev: ## Inicia servidor de desenvolvimento (Vite)
	@echo "$(GREEN)ğŸš€ Iniciando servidor de desenvolvimento...$(NC)"
	@npm run dev

dev-host: ## Inicia dev server acessÃ­vel na rede local
	@echo "$(GREEN)ğŸš€ Iniciando servidor (host: 0.0.0.0)...$(NC)"
	@npm run dev -- --host

dev-port: ## Inicia dev server em porta customizada
	@read -p "Porta (ex: 3000): " port; \
	if [ -z "$$port" ]; then \
		port=3000; \
	fi; \
	echo "$(GREEN)ğŸš€ Iniciando servidor na porta $$port...$(NC)"; \
	npm run dev -- --port $$port

build: ## ConstrÃ³i projeto para produÃ§Ã£o
	@echo "$(GREEN)ğŸ—ï¸  Construindo projeto para produÃ§Ã£o...$(NC)"
	@npm run build

build-watch: ## ConstrÃ³i em modo watch
	@echo "$(GREEN)ğŸ—ï¸  Construindo em modo watch...$(NC)"
	@npm run build -- --watch

preview: ## Preview da build de produÃ§Ã£o
	@echo "$(GREEN)ğŸ‘ï¸  Iniciando preview da build...$(NC)"
	@npm run preview

preview-host: ## Preview acessÃ­vel na rede local
	@echo "$(GREEN)ğŸ‘ï¸  Iniciando preview (host: 0.0.0.0)...$(NC)"
	@npm run preview -- --host

serve: ## Serve build localmente (sem Vite)
	@echo "$(GREEN)ğŸŒ Servindo build localmente...$(NC)"
	@npx serve dist

##@ ğŸ§ª Testes

test: ## Executa testes
	@echo "$(GREEN)ğŸ§ª Executando testes...$(NC)"
	@npm run test

test-watch: ## Executa testes em modo watch
	@echo "$(GREEN)ğŸ§ª Executando testes em modo watch...$(NC)"
	@npm run test -- --watch

test-coverage: ## Executa testes com cobertura
	@echo "$(GREEN)ğŸ§ª Executando testes com cobertura...$(NC)"
	@npm run test -- --coverage

test-ui: ## Executa testes com UI (Vitest)
	@echo "$(GREEN)ğŸ§ª Abrindo UI de testes...$(NC)"
	@npm run test -- --ui

##@ ğŸ¨ Linting e FormataÃ§Ã£o

lint: ## Executa linter
	@echo "$(GREEN)ğŸ” Executando linter...$(NC)"
	@npm run lint

lint-fix: ## Corrige problemas do linter automaticamente
	@echo "$(GREEN)ğŸ”§ Corrigindo problemas do linter...$(NC)"
	@npm run lint -- --fix

format: ## Formata cÃ³digo (Prettier)
	@echo "$(GREEN)âœ¨ Formatando cÃ³digo...$(NC)"
	@npm run format || npx prettier --write "src/**/*.{js,jsx,ts,tsx,vue,svelte,css,scss,json}"

format-check: ## Verifica formataÃ§Ã£o sem alterar
	@echo "$(GREEN)ğŸ” Verificando formataÃ§Ã£o...$(NC)"
	@npm run format:check || npx prettier --check "src/**/*.{js,jsx,ts,tsx,vue,svelte,css,scss,json}"

type-check: ## Verifica tipos TypeScript
	@echo "$(GREEN)ğŸ” Verificando tipos TypeScript...$(NC)"
	@npm run type-check || npx tsc --noEmit

##@ ğŸ—ï¸ Build e Deploy

analyze: ## Analisa tamanho do bundle
	@echo "$(GREEN)ğŸ“Š Analisando bundle...$(NC)"
	@npm run build && npx vite-bundle-visualizer

build-stats: ## Mostra estatÃ­sticas da build
	@echo "$(GREEN)ğŸ“Š Gerando estatÃ­sticas da build...$(NC)"
	@npm run build -- --report

deploy-check: ## Verifica build antes de deploy
	@echo "$(GREEN)âœ… Verificando build para deploy...$(NC)"
	@npm run build
	@npm run test || echo "$(YELLOW)âš ï¸  Testes nÃ£o configurados$(NC)"
	@npm run lint || echo "$(YELLOW)âš ï¸  Linter nÃ£o configurado$(NC)"
	@echo "$(GREEN)âœ… Build verificado com sucesso!$(NC)"

##@ ğŸ¨ Componentes e Arquitetura

create-component: ## Cria componente (Vue/React)
	@read -p "Nome do componente (ex: Button): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do componente Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸ“ Criando componente $$name...$(NC)"; \
		mkdir -p src/components/$$name; \
		if [ -f "vite.config.js" ] || [ -f "vite.config.ts" ]; then \
			if [ -f "package.json" ] && grep -q "vue" package.json; then \
				echo "<template>\n  <div class=\"$$(echo $$name | tr '[:upper:]' '[:lower:]')\">\n    <!-- $$name component -->\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n// Component logic\n</script>\n\n<style scoped>\n.$$(echo $$name | tr '[:upper:]' '[:lower:]') {\n  /* Styles */\n}\n</style>" > src/components/$$name/$$name.vue; \
			elif [ -f "package.json" ] && grep -q "react" package.json; then \
				echo "import React from 'react';\n\ninterface $$nameProps {\n  // Props\n}\n\nconst $$name: React.FC<$$nameProps> = () => {\n  return (\n    <div className=\"$$(echo $$name | tr '[:upper:]' '[:lower:]')\">\n      {/* $$name component */}\n    </div>\n  );\n};\n\nexport default $$name;" > src/components/$$name/$$name.tsx; \
			fi; \
		fi; \
		echo "$(GREEN)âœ… Componente criado em src/components/$$name/$(NC)"; \
	fi

create-page: ## Cria pÃ¡gina/rota (Vue Router/React Router)
	@read -p "Nome da pÃ¡gina (ex: About): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome da pÃ¡gina Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸ“ Criando pÃ¡gina $$name...$(NC)"; \
		mkdir -p src/pages; \
		if [ -f "package.json" ] && grep -q "vue" package.json; then \
			echo "<template>\n  <div class=\"$$(echo $$name | tr '[:upper:]' '[:lower:]')\">\n    <h1>$$name Page</h1>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n// Page logic\n</script>\n\n<style scoped>\n.$$(echo $$name | tr '[:upper:]' '[:lower:]') {\n  /* Styles */\n}\n</style>" > src/pages/$$name.vue; \
		elif [ -f "package.json" ] && grep -q "react" package.json; then \
			echo "import React from 'react';\n\nconst $$name: React.FC = () => {\n  return (\n    <div className=\"$$(echo $$name | tr '[:upper:]' '[:lower:]')\">\n      <h1>$$name Page</h1>\n    </div>\n  );\n};\n\nexport default $$name;" > src/pages/$$name.tsx; \
		fi; \
		echo "$(GREEN)âœ… PÃ¡gina criada em src/pages/$$name$(NC)"; \
	fi

create-composable: ## Cria composable (Vue 3)
	@read -p "Nome do composable (ex: useCounter): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do composable Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸ“ Criando composable $$name...$(NC)"; \
		mkdir -p src/composables; \
		echo "import { ref } from 'vue';\n\nexport function $$name() {\n  // Composable logic\n  return {\n    // Return values\n  };\n}" > src/composables/$$name.ts; \
		echo "$(GREEN)âœ… Composable criado em src/composables/$$name.ts$(NC)"; \
	fi

create-hook: ## Cria custom hook (React)
	@read -p "Nome do hook (ex: useCounter): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome do hook Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸ“ Criando hook $$name...$(NC)"; \
		mkdir -p src/hooks; \
		echo "import { useState, useEffect } from 'react';\n\nexport function $$name() {\n  // Hook logic\n  return {\n    // Return values\n  };\n}" > src/hooks/$$name.ts; \
		echo "$(GREEN)âœ… Hook criado em src/hooks/$$name.ts$(NC)"; \
	fi

create-store: ## Cria store (Pinia/Vuex/Zustand)
	@read -p "Nome da store (ex: userStore): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome da store Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸ“ Criando store $$name...$(NC)"; \
		mkdir -p src/stores; \
		if [ -f "package.json" ] && grep -q "pinia" package.json; then \
			echo "import { defineStore } from 'pinia';\n\nexport const use$$(echo $$name | sed 's/Store//')Store = defineStore('$$(echo $$name | tr '[:upper:]' '[:lower:]')', {\n  state: () => ({\n    // State\n  }),\n  getters: {\n    // Getters\n  },\n  actions: {\n    // Actions\n  },\n});" > src/stores/$$name.ts; \
		elif [ -f "package.json" ] && grep -q "zustand" package.json; then \
			echo "import { create } from 'zustand';\n\ninterface $$nameState {\n  // State\n}\n\nconst use$$name = create<$$nameState>((set) => ({\n  // State and actions\n}));\n\nexport default use$$name;" > src/stores/$$name.ts; \
		fi; \
		echo "$(GREEN)âœ… Store criada em src/stores/$$name.ts$(NC)"; \
	fi

create-api: ## Cria arquivo de API/service
	@read -p "Nome da API/service (ex: userApi): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome Ã© obrigatÃ³rio!$(NC)"; \
	else \
		echo "$(GREEN)ğŸ“ Criando API $$name...$(NC)"; \
		mkdir -p src/api; \
		echo "// API base URL\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:8080/api';\n\nexport const $$name = {\n  // API methods\n  async getAll() {\n    const response = await fetch(\`\$${API_URL}/$$(echo $$name | tr '[:upper:]' '[:lower:]' | sed 's/api//')\`);\n    return response.json();\n  },\n  async getById(id: string | number) {\n    const response = await fetch(\`\$${API_URL}/$$(echo $$name | tr '[:upper:]' '[:lower:]' | sed 's/api//')/\$${id}\`);\n    return response.json();\n  },\n  // Add more methods as needed\n};" > src/api/$$name.ts; \
		echo "$(GREEN)âœ… API criada em src/api/$$name.ts$(NC)"; \
	fi

##@ ğŸ”§ ConfiguraÃ§Ã£o e Setup

setup-vite: ## Configura Vite no projeto atual
	@echo "$(GREEN)âš™ï¸  Configurando Vite...$(NC)"
	@npm install -D vite @vitejs/plugin-react || npm install -D vite @vitejs/plugin-vue
	@echo "$(GREEN)âœ… Vite configurado!$(NC)"

setup-typescript: ## Adiciona TypeScript ao projeto
	@echo "$(GREEN)âš™ï¸  Configurando TypeScript...$(NC)"
	@npm install -D typescript @types/node
	@npx tsc --init
	@echo "$(GREEN)âœ… TypeScript configurado!$(NC)"

setup-eslint: ## Configura ESLint
	@echo "$(GREEN)âš™ï¸  Configurando ESLint...$(NC)"
	@npm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-react
	@npx eslint --init
	@echo "$(GREEN)âœ… ESLint configurado!$(NC)"

setup-prettier: ## Configura Prettier
	@echo "$(GREEN)âš™ï¸  Configurando Prettier...$(NC)"
	@npm install -D prettier eslint-config-prettier eslint-plugin-prettier
	@echo "{\n  \"semi\": true,\n  \"singleQuote\": true,\n  \"tabWidth\": 2,\n  \"trailingComma\": \"es5\"\n}" > .prettierrc.json
	@echo "$(GREEN)âœ… Prettier configurado!$(NC)"

setup-tailwind: ## Instala e configura Tailwind CSS
	@echo "$(GREEN)âš™ï¸  Configurando Tailwind CSS...$(NC)"
	@npm install -D tailwindcss postcss autoprefixer
	@npx tailwindcss init -p
	@echo "$(GREEN)âœ… Tailwind CSS configurado!$(NC)"

setup-router: ## Instala router (Vue Router ou React Router)
	@if [ -f "package.json" ] && grep -q "vue" package.json; then \
		echo "$(GREEN)âš™ï¸  Instalando Vue Router...$(NC)"; \
		npm install vue-router@4; \
	elif [ -f "package.json" ] && grep -q "react" package.json; then \
		echo "$(GREEN)âš™ï¸  Instalando React Router...$(NC)"; \
		npm install react-router-dom; \
	fi
	@echo "$(GREEN)âœ… Router instalado!$(NC)"

setup-pinia: ## Instala Pinia (gerenciamento de estado Vue)
	@echo "$(GREEN)âš™ï¸  Instalando Pinia...$(NC)"
	@npm install pinia
	@echo "$(GREEN)âœ… Pinia instalado!$(NC)"

setup-zustand: ## Instala Zustand (gerenciamento de estado React)
	@echo "$(GREEN)âš™ï¸  Instalando Zustand...$(NC)"
	@npm install zustand
	@echo "$(GREEN)âœ… Zustand instalado!$(NC)"

setup-axios: ## Instala Axios para requisiÃ§Ãµes HTTP
	@echo "$(GREEN)âš™ï¸  Instalando Axios...$(NC)"
	@npm install axios
	@echo "$(GREEN)âœ… Axios instalado!$(NC)"

##@ ğŸ§¹ Limpeza

clean: ## Remove arquivos temporÃ¡rios e cache
	@echo "$(YELLOW)ğŸ§¹ Limpando arquivos temporÃ¡rios...$(NC)"
	@rm -rf node_modules/.vite
	@rm -rf dist
	@rm -rf .turbo
	@rm -rf .next
	@rm -rf .nuxt
	@rm -rf .svelte-kit
	@echo "$(GREEN)âœ… Limpeza concluÃ­da!$(NC)"

clean-all: ## Limpeza completa (inclui node_modules)
	@echo "$(RED)âš ï¸  Isso vai remover node_modules!$(NC)"
	@read -p "Continuar? [s/N]: " confirm; \
	if [ "$$confirm" = "s" ] || [ "$$confirm" = "S" ]; then \
		rm -rf node_modules package-lock.json yarn.lock pnpm-lock.yaml; \
		rm -rf dist node_modules/.vite .turbo .next .nuxt .svelte-kit; \
		echo "$(GREEN)âœ… Limpeza completa concluÃ­da!$(NC)"; \
	else \
		echo "Cancelado."; \
	fi

##@ ğŸ”¥ Laravel Livewire

livewire-info: ## Mostra informaÃ§Ãµes sobre Livewire no backend
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ğŸ”¥ Laravel Livewire - Comandos DisponÃ­veis$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@echo "$(YELLOW)Para usar Livewire, execute os comandos no diretÃ³rio backend:$(NC)"
	@echo ""
	@echo "  $(GREEN)cd ../backend$(NC)"
	@echo ""
	@echo "$(YELLOW)Comandos disponÃ­veis:$(NC)"
	@echo "  make livewire-install      - Instala Livewire"
	@echo "  make livewire-make         - Cria componente Livewire"
	@echo "  make livewire-delete       - Remove componente"
	@echo "  make livewire-move         - Move componente"
	@echo "  make livewire-copy         - Copia componente"
	@echo "  make livewire-discover     - Descobre componentes"
	@echo ""
	@echo "$(CYAN)ğŸ“– DocumentaÃ§Ã£o completa: frontend/README.md#-laravel-livewire---guia-completo$(NC)"
	@echo ""

livewire-check: ## Verifica se Livewire estÃ¡ instalado no backend
	@echo "$(YELLOW)ğŸ” Verificando Livewire no backend...$(NC)"
	@if [ -f "../backend/laravel/composer.json" ]; then \
		if grep -q "livewire" ../backend/laravel/composer.json; then \
			echo "$(GREEN)âœ… Livewire estÃ¡ instalado!$(NC)"; \
		else \
			echo "$(RED)âŒ Livewire nÃ£o estÃ¡ instalado$(NC)"; \
			echo "$(YELLOW)ğŸ’¡ Execute: cd ../backend && make livewire-install$(NC)"; \
		fi; \
	else \
		echo "$(RED)âŒ Laravel nÃ£o encontrado em ../backend/laravel/$(NC)"; \
	fi

livewire-create-view: ## Cria view Blade para componente Livewire
	@read -p "Nome do componente (ex: UserTable): " name; \
	if [ -z "$$name" ]; then \
		echo "$(RED)âŒ Nome Ã© obrigatÃ³rio!$(NC)"; \
	else \
		view_path="../backend/laravel/resources/views/livewire/$$(echo $$name | tr '[:upper:]' '[:lower:]').blade.php"; \
		mkdir -p $$(dirname $$view_path); \
		echo "<div>\n    <!-- $$name component -->\n</div>" > $$view_path; \
		echo "$(GREEN)âœ… View criada em: $$view_path$(NC)"; \
		echo "$(YELLOW)ğŸ’¡ Agora crie o componente: cd ../backend && make livewire-make name=$$name$(NC)"; \
	fi

livewire-list-components: ## Lista componentes Livewire instalados
	@echo "$(YELLOW)ğŸ“‹ Componentes Livewire encontrados:$(NC)"
	@if [ -d "../backend/laravel/app/Livewire" ]; then \
		find ../backend/laravel/app/Livewire -name "*.php" -type f | while read file; do \
			component=$$(basename $$file .php); \
			echo "  $(GREEN)â€¢$(NC) $$component"; \
		done; \
	else \
		echo "$(RED)âŒ DiretÃ³rio Livewire nÃ£o encontrado$(NC)"; \
		echo "$(YELLOW)ğŸ’¡ Execute: cd ../backend && make livewire-install$(NC)"; \
	fi

livewire-docs: ## Abre documentaÃ§Ã£o do Livewire no navegador
	@echo "$(GREEN)ğŸ“– Abrindo documentaÃ§Ã£o do Livewire...$(NC)"
	@xdg-open https://livewire.laravel.com 2>/dev/null || \
	 open https://livewire.laravel.com 2>/dev/null || \
	 echo "$(YELLOW)ğŸ’¡ Acesse: https://livewire.laravel.com$(NC)"

##@ ğŸ“Š InformaÃ§Ãµes

info: ## Mostra informaÃ§Ãµes do projeto
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ğŸ“‹ InformaÃ§Ãµes do Projeto$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@if [ -f "package.json" ]; then \
		echo "$(YELLOW)ğŸ“¦ Nome:$(NC) $$(cat package.json | grep '"name"' | head -1 | cut -d'"' -f4)"; \
		echo "$(YELLOW)ğŸ“Œ VersÃ£o:$(NC) $$(cat package.json | grep '"version"' | head -1 | cut -d'"' -f4)"; \
		echo ""; \
	fi
	@if [ -f "vite.config.js" ] || [ -f "vite.config.ts" ]; then \
		echo "$(GREEN)âœ… Vite configurado$(NC)"; \
	fi
	@if [ -f "tsconfig.json" ]; then \
		echo "$(GREEN)âœ… TypeScript configurado$(NC)"; \
	fi
	@if [ -f ".eslintrc" ] || [ -f ".eslintrc.json" ] || [ -f ".eslintrc.js" ]; then \
		echo "$(GREEN)âœ… ESLint configurado$(NC)"; \
	fi
	@echo ""
	@echo "$(YELLOW)ğŸ“Š DependÃªncias:$(NC)"
	@if [ -f "package.json" ]; then \
		echo "  Total: $$(cat package.json | grep -c '"dependencies"') dependÃªncias"; \
	fi
	@echo ""

version: ## Mostra versÃµes das ferramentas
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ğŸ“Œ VersÃµes das Ferramentas$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@echo "$(YELLOW)Node.js:$(NC) $$(node --version 2>/dev/null || echo 'NÃ£o instalado')"
	@echo "$(YELLOW)npm:$(NC) $$(npm --version 2>/dev/null || echo 'NÃ£o instalado')"
	@echo "$(YELLOW)Yarn:$(NC) $$(yarn --version 2>/dev/null || echo 'NÃ£o instalado')"
	@echo "$(YELLOW)pnpm:$(NC) $$(pnpm --version 2>/dev/null || echo 'NÃ£o instalado')"
	@if [ -f "package.json" ] && grep -q "vite" package.json; then \
		echo "$(YELLOW)Vite:$(NC) $$(npm list vite 2>/dev/null | grep vite | head -1 | awk '{print $$2}' || echo 'NÃ£o instalado')"; \
	fi
	@echo ""

