##@ ðŸ” Qualidade de CÃ³digo - PHP Insights

phpinsights-install: ## Instala PHP Insights
	@echo "$(GREEN)ðŸ“¦ Instalando PHP Insights...$(NC)"
	docker compose exec php composer require --dev nunomaduro/phpinsights
	@echo "$(GREEN)âœ… PHP Insights instalado!$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Execute: make phpinsights-analyze$(NC)"

phpinsights-analyze: ## Analisa cÃ³digo com PHP Insights
	@echo "$(GREEN)ðŸ” Analisando cÃ³digo com PHP Insights...$(NC)"
	docker compose exec php ./vendor/bin/phpinsights analyse laravel/app --min-quality=80 --min-complexity=80 --min-architecture=80 --min-style=80 || true

phpinsights-analyze-simple: ## AnÃ¡lise simples (sem mÃ©tricas mÃ­nimas)
	@echo "$(GREEN)ðŸ” AnÃ¡lise simples com PHP Insights...$(NC)"
	docker compose exec php ./vendor/bin/phpinsights analyse laravel/app

phpinsights-fix: ## Corrige problemas automaticamente (quando possÃ­vel)
	@echo "$(YELLOW)ðŸ”§ Corrigindo problemas automaticamente...$(NC)"
	docker compose exec php ./vendor/bin/phpinsights analyse laravel/app --fix || true

phpinsights-config: ## Gera arquivo de configuraÃ§Ã£o phpinsights.php
	@echo "$(GREEN)âš™ï¸  Gerando configuraÃ§Ã£o do PHP Insights...$(NC)"
	docker compose exec php ./vendor/bin/phpinsights --init || true


##@ ðŸŽ¯ PHPStan - AnÃ¡lise EstÃ¡tica

phpstan-install: ## Instala PHPStan
	@echo "$(GREEN)ðŸ“¦ Instalando PHPStan...$(NC)"
	docker compose exec php composer require --dev phpstan/phpstan phpstan/extension-installer
	@echo "$(GREEN)âœ… PHPStan instalado!$(NC)"

phpstan-analyze: ## Analisa cÃ³digo com PHPStan (nÃ­vel 0)
	@echo "$(GREEN)ðŸ” Analisando cÃ³digo com PHPStan...$(NC)"
	docker compose exec php ./vendor/bin/phpstan analyse laravel/app --memory-limit=2G || true

phpstan-analyze-level: ## Analisa com nÃ­vel especÃ­fico (0-9)
	@read -p "NÃ­vel de anÃ¡lise (0-9, padrÃ£o: 5): " level; \
	level=$${level:-5}; \
	echo "$(GREEN)ðŸ” Analisando com nÃ­vel $$level...$(NC)"; \
	docker compose exec php ./vendor/bin/phpstan analyse laravel/app --level=$$level --memory-limit=2G || true

phpstan-analyze-strict: ## AnÃ¡lise rigorosa (nÃ­vel 9)
	@echo "$(GREEN)ðŸ” AnÃ¡lise rigorosa com PHPStan (nÃ­vel 9)...$(NC)"
	docker compose exec php ./vendor/bin/phpstan analyse laravel/app --level=9 --memory-limit=2G || true

phpstan-baseline: ## Gera baseline para ignorar erros existentes
	@echo "$(YELLOW)ðŸ“ Gerando baseline do PHPStan...$(NC)"
	docker compose exec php ./vendor/bin/phpstan analyse laravel/app --generate-baseline --memory-limit=2G || true

phpstan-clear-result-cache: ## Limpa cache de resultados do PHPStan
	@echo "$(YELLOW)ðŸ§¹ Limpando cache do PHPStan...$(NC)"
	docker compose exec php ./vendor/bin/phpstan clear-result-cache || true


##@ ðŸŽ¨ PHP CS Fixer - FormataÃ§Ã£o de CÃ³digo

phpcs-install: ## Instala PHP CS Fixer
	@echo "$(GREEN)ðŸ“¦ Instalando PHP CS Fixer...$(NC)"
	docker compose exec php composer require --dev friendsofphp/php-cs-fixer
	@echo "$(GREEN)âœ… PHP CS Fixer instalado!$(NC)"

phpcs-check: ## Verifica estilo de cÃ³digo (sem alterar)
	@echo "$(GREEN)ðŸ” Verificando estilo de cÃ³digo...$(NC)"
	docker compose exec php ./vendor/bin/php-cs-fixer fix --dry-run --diff laravel/app || true

phpcs-fix: ## Corrige estilo de cÃ³digo automaticamente
	@echo "$(GREEN)ðŸ”§ Corrigindo estilo de cÃ³digo...$(NC)"
	docker compose exec php ./vendor/bin/php-cs-fixer fix laravel/app

phpcs-config: ## Gera arquivo de configuraÃ§Ã£o .php-cs-fixer.php
	@echo "$(GREEN)âš™ï¸  Gerando configuraÃ§Ã£o do PHP CS Fixer...$(NC)"
	docker compose exec php ./vendor/bin/php-cs-fixer --init || true


##@ ðŸŽ¨ Laravel Pint - FormataÃ§Ã£o Moderna

pint-install: ## Instala Laravel Pint
	@echo "$(GREEN)ðŸ“¦ Instalando Laravel Pint...$(NC)"
	docker compose exec php composer require --dev laravel/pint
	@echo "$(GREEN)âœ… Laravel Pint instalado!$(NC)"

pint-check: ## Verifica formataÃ§Ã£o (sem alterar)
	@echo "$(GREEN)ðŸ” Verificando formataÃ§Ã£o com Pint...$(NC)"
	docker compose exec php ./vendor/bin/pint --test laravel/app || true

pint-fix: ## Corrige formataÃ§Ã£o automaticamente
	@echo "$(GREEN)ðŸ”§ Corrigindo formataÃ§Ã£o com Pint...$(NC)"
	docker compose exec php ./vendor/bin/pint laravel/app


##@ ðŸ› PHPMD - PHP Mess Detector

phpmd-install: ## Instala PHPMD
	@echo "$(GREEN)ðŸ“¦ Instalando PHPMD...$(NC)"
	docker compose exec php composer require --dev phpmd/phpmd
	@echo "$(GREEN)âœ… PHPMD instalado!$(NC)"

phpmd-analyze: ## Analisa cÃ³digo com PHPMD
	@echo "$(GREEN)ðŸ” Analisando cÃ³digo com PHPMD...$(NC)"
	docker compose exec php ./vendor/bin/phpmd laravel/app text codesize,unusedcode,naming,design,controversial,cleancode || true

phpmd-analyze-xml: ## AnÃ¡lise PHPMD em formato XML
	@read -p "Arquivo de saÃ­da (ex: phpmd-report.xml): " file; \
	echo "$(GREEN)ðŸ” Gerando relatÃ³rio XML...$(NC)"; \
	docker compose exec php ./vendor/bin/phpmd laravel/app xml codesize,unusedcode,naming,design,controversial,cleancode > $$file || true


##@ ðŸ“Š Psalm - AnÃ¡lise EstÃ¡tica AvanÃ§ada

psalm-install: ## Instala Psalm
	@echo "$(GREEN)ðŸ“¦ Instalando Psalm...$(NC)"
	docker compose exec php composer require --dev vimeo/psalm
	@echo "$(GREEN)âœ… Psalm instalado!$(NC)"

psalm-init: ## Inicializa Psalm no projeto
	@echo "$(GREEN)âš™ï¸  Inicializando Psalm...$(NC)"
	docker compose exec php ./vendor/bin/psalm --init || true

psalm-analyze: ## Analisa cÃ³digo com Psalm
	@echo "$(GREEN)ðŸ” Analisando cÃ³digo com Psalm...$(NC)"
	docker compose exec php ./vendor/bin/psalm --memory-limit=2G || true

psalm-baseline: ## Gera baseline do Psalm
	@echo "$(YELLOW)ðŸ“ Gerando baseline do Psalm...$(NC)"
	docker compose exec php ./vendor/bin/psalm --set-baseline=psalm-baseline.xml || true

psalm-clear-cache: ## Limpa cache do Psalm
	@echo "$(YELLOW)ðŸ§¹ Limpando cache do Psalm...$(NC)"
	docker compose exec php ./vendor/bin/psalm --clear-cache || true


##@ ðŸ“š DocumentaÃ§Ã£o - PHPDoc / phpDocumentor

phpdoc-install: ## Instala phpDocumentor
	@echo "$(GREEN)ðŸ“¦ Instalando phpDocumentor...$(NC)"
	docker compose exec php composer require --dev phpdocumentor/phpdocumentor
	@echo "$(GREEN)âœ… phpDocumentor instalado!$(NC)"

phpdoc-generate: ## Gera documentaÃ§Ã£o PHPDoc
	@echo "$(GREEN)ðŸ“š Gerando documentaÃ§Ã£o PHPDoc...$(NC)"
	@mkdir -p docs/api
	docker compose exec php ./vendor/bin/phpdoc -d laravel/app -t docs/api --title="API Documentation" || true

phpdoc-generate-custom: ## Gera documentaÃ§Ã£o com configuraÃ§Ã£o customizada
	@read -p "DiretÃ³rio de saÃ­da (ex: docs/api): " dir; \
	mkdir -p $$dir; \
	echo "$(GREEN)ðŸ“š Gerando documentaÃ§Ã£o em $$dir...$(NC)"; \
	docker compose exec php ./vendor/bin/phpdoc -d laravel/app -t $$dir --title="API Documentation" || true


##@ ðŸ”§ AnÃ¡lise de Complexidade

complexity-check: ## Verifica complexidade ciclomÃ¡tica
	@echo "$(GREEN)ðŸ” Verificando complexidade do cÃ³digo...$(NC)"
	@if command -v phploc > /dev/null 2>&1 || docker compose exec php composer show | grep -q phploc; then \
		docker compose exec php ./vendor/bin/phploc laravel/app || true; \
	else \
		echo "$(YELLOW)ðŸ’¡ Instale phploc: make composer-require-dev package=phploc/phploc$(NC)"; \
	fi

phploc-install: ## Instala phploc (anÃ¡lise de mÃ©tricas)
	@echo "$(GREEN)ðŸ“¦ Instalando phploc...$(NC)"
	docker compose exec php composer require --dev phploc/phploc
	@echo "$(GREEN)âœ… phploc instalado!$(NC)"

phploc-analyze: ## Analisa mÃ©tricas do cÃ³digo
	@echo "$(GREEN)ðŸ“Š Analisando mÃ©tricas com phploc...$(NC)"
	docker compose exec php ./vendor/bin/phploc laravel/app || true


##@ ðŸ› ï¸ VerificaÃ§Ã£o de DependÃªncias

composer-audit: ## Verifica vulnerabilidades (Composer)
	@echo "$(GREEN)ðŸ”’ Verificando vulnerabilidades...$(NC)"
	docker compose exec php composer audit

composer-audit-format: ## Auditoria em formato JSON
	@echo "$(GREEN)ðŸ”’ Verificando vulnerabilidades (JSON)...$(NC)"
	docker compose exec php composer audit --format=json || true

security-check: ## Verifica seguranÃ§a com SensioLabs Security Checker
	@echo "$(GREEN)ðŸ”’ Verificando seguranÃ§a...$(NC)"
	@if command -v security-checker > /dev/null 2>&1 || docker compose exec php composer show | grep -q sensiolabs/security-checker; then \
		docker compose exec php ./vendor/bin/security-checker security:check || true; \
	else \
		echo "$(YELLOW)ðŸ’¡ Instale: make composer-require-dev package=sensiolabs/security-checker$(NC)"; \
	fi


##@ ðŸŽ¯ Workflow Completo de Qualidade

quality-check: ## Executa todas as verificaÃ§Ãµes de qualidade
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ðŸ” VerificaÃ§Ã£o Completa de Qualidade$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@echo "$(YELLOW)1/5 Executando testes...$(NC)"
	$(MAKE) test || echo "$(YELLOW)âš ï¸  Testes nÃ£o passaram$(NC)"
	@echo ""
	@echo "$(YELLOW)2/5 Verificando estilo de cÃ³digo...$(NC)"
	$(MAKE) phpcs-check || echo "$(YELLOW)âš ï¸  PHP CS Fixer nÃ£o configurado$(NC)"
	@echo ""
	@echo "$(YELLOW)3/5 Analisando com PHPStan...$(NC)"
	$(MAKE) phpstan-analyze || echo "$(YELLOW)âš ï¸  PHPStan nÃ£o configurado$(NC)"
	@echo ""
	@echo "$(YELLOW)4/5 Verificando vulnerabilidades...$(NC)"
	$(MAKE) composer-audit || echo "$(YELLOW)âš ï¸  Auditoria nÃ£o disponÃ­vel$(NC)"
	@echo ""
	@echo "$(YELLOW)5/5 Gerando mÃ©tricas...$(NC)"
	$(MAKE) phploc-analyze || echo "$(YELLOW)âš ï¸  phploc nÃ£o configurado$(NC)"
	@echo ""
	@echo "$(GREEN)âœ… VerificaÃ§Ã£o de qualidade concluÃ­da!$(NC)"

quality-fix: ## Corrige automaticamente problemas de qualidade
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ðŸ”§ CorreÃ§Ã£o AutomÃ¡tica de Qualidade$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@echo "$(YELLOW)1/3 Corrigindo estilo com PHP CS Fixer...$(NC)"
	$(MAKE) phpcs-fix || echo "$(YELLOW)âš ï¸  PHP CS Fixer nÃ£o configurado$(NC)"
	@echo ""
	@echo "$(YELLOW)2/3 Corrigindo com PHP Insights...$(NC)"
	$(MAKE) phpinsights-fix || echo "$(YELLOW)âš ï¸  PHP Insights nÃ£o configurado$(NC)"
	@echo ""
	@echo "$(YELLOW)3/3 Formatando com Laravel Pint...$(NC)"
	$(MAKE) pint-fix || echo "$(YELLOW)âš ï¸  Laravel Pint nÃ£o configurado$(NC)"
	@echo ""
	@echo "$(GREEN)âœ… CorreÃ§Ã£o automÃ¡tica concluÃ­da!$(NC)"

quality-install-all: ## Instala todas as ferramentas de qualidade
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ðŸ“¦ Instalando Todas as Ferramentas de Qualidade$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@echo "$(YELLOW)Instalando PHP Insights...$(NC)"
	$(MAKE) phpinsights-install || true
	@echo ""
	@echo "$(YELLOW)Instalando PHPStan...$(NC)"
	$(MAKE) phpstan-install || true
	@echo ""
	@echo "$(YELLOW)Instalando PHP CS Fixer...$(NC)"
	$(MAKE) phpcs-install || true
	@echo ""
	@echo "$(YELLOW)Instalando Laravel Pint...$(NC)"
	$(MAKE) pint-install || true
	@echo ""
	@echo "$(YELLOW)Instalando PHPMD...$(NC)"
	$(MAKE) phpmd-install || true
	@echo ""
	@echo "$(YELLOW)Instalando phploc...$(NC)"
	$(MAKE) phploc-install || true
	@echo ""
	@echo "$(GREEN)âœ… InstalaÃ§Ã£o concluÃ­da!$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Execute: make quality-check$(NC)"


##@ ðŸ“– DocumentaÃ§Ã£o - Laravel API Documentation

api-docs-install: ## Instala Laravel API Documentation Generator
	@echo "$(GREEN)ðŸ“¦ Instalando Laravel API Documentation Generator...$(NC)"
	docker compose exec php composer require --dev mpociot/laravel-apidoc-generator || \
	docker compose exec php composer require --dev darkaonline/l5-swagger || \
	echo "$(YELLOW)âš ï¸  Escolha uma ferramenta: mpociot/laravel-apidoc-generator ou darkaonline/l5-swagger$(NC)"

api-docs-generate: ## Gera documentaÃ§Ã£o da API
	@echo "$(GREEN)ðŸ“š Gerando documentaÃ§Ã£o da API...$(NC)"
	@if docker compose exec php composer show | grep -q "mpociot/laravel-apidoc-generator"; then \
		docker compose exec php php artisan api:generate || true; \
	elif docker compose exec php composer show | grep -q "darkaonline/l5-swagger"; then \
		docker compose exec php php artisan l5-swagger:generate || true; \
	else \
		echo "$(YELLOW)ðŸ’¡ Instale uma ferramenta: make api-docs-install$(NC)"; \
	fi


##@ ðŸ“ DocumentaÃ§Ã£o - Scribe

scribe-install: ## Instala Scribe (documentaÃ§Ã£o de API)
	@echo "$(GREEN)ðŸ“¦ Instalando Scribe...$(NC)"
	docker compose exec php composer require --dev knuckleswtf/scribe
	@echo "$(GREEN)âœ… Scribe instalado!$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Execute: make scribe-generate$(NC)"

scribe-generate: ## Gera documentaÃ§Ã£o com Scribe
	@echo "$(GREEN)ðŸ“š Gerando documentaÃ§Ã£o com Scribe...$(NC)"
	docker compose exec php php artisan scribe:generate || true

scribe-publish: ## Publica configuraÃ§Ã£o do Scribe
	@echo "$(GREEN)âš™ï¸  Publicando configuraÃ§Ã£o do Scribe...$(NC)"
	docker compose exec php php artisan vendor:publish --tag=scribe-config || true


##@ ðŸ“ DocumentaÃ§Ã£o - Scramble (API Documentation)

scramble-install: ## Instala Scramble (gerador de documentaÃ§Ã£o OpenAPI)
	@echo "$(GREEN)ðŸ“¦ Instalando Scramble...$(NC)"
	docker compose exec php composer require --dev dedoc/scramble
	@echo "$(GREEN)âœ… Scramble instalado!$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Execute: make scramble-publish$(NC)"

scramble-publish: ## Publica configuraÃ§Ã£o do Scramble
	@echo "$(GREEN)âš™ï¸  Publicando configuraÃ§Ã£o do Scramble...$(NC)"
	docker compose exec php php artisan vendor:publish --tag=scramble-config || true

scramble-generate: ## Gera documentaÃ§Ã£o OpenAPI/Swagger
	@echo "$(GREEN)ðŸ“š Gerando documentaÃ§Ã£o OpenAPI com Scramble...$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Acesse: http://localhost:8080/api/docs para ver a documentaÃ§Ã£o$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Ou gere o arquivo JSON: make scramble-generate-json$(NC)"

scramble-generate-json: ## Gera arquivo OpenAPI JSON
	@read -p "Nome do arquivo (ex: openapi.json): " file; \
	file=$${file:-openapi.json}; \
	echo "$(GREEN)ðŸ“š Gerando $$file...$(NC)"; \
	docker compose exec php php artisan scramble:export --output=$$file || true

scramble-generate-yaml: ## Gera arquivo OpenAPI YAML
	@read -p "Nome do arquivo (ex: openapi.yaml): " file; \
	file=$${file:-openapi.yaml}; \
	echo "$(GREEN)ðŸ“š Gerando $$file...$(NC)"; \
	docker compose exec php php artisan scramble:export --output=$$file --format=yaml || true


##@ ðŸ“ DocumentaÃ§Ã£o - Swagger/OpenAPI (L5-Swagger)

swagger-install: ## Instala L5-Swagger (Swagger UI para Laravel)
	@echo "$(GREEN)ðŸ“¦ Instalando L5-Swagger...$(NC)"
	docker compose exec php composer require --dev darkaonline/l5-swagger
	@echo "$(GREEN)âœ… L5-Swagger instalado!$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Execute: make swagger-publish$(NC)"

swagger-publish: ## Publica configuraÃ§Ã£o do Swagger
	@echo "$(GREEN)âš™ï¸  Publicando configuraÃ§Ã£o do Swagger...$(NC)"
	docker compose exec php php artisan vendor:publish --provider "L5Swagger\L5SwaggerServiceProvider" || true

swagger-generate: ## Gera documentaÃ§Ã£o Swagger
	@echo "$(GREEN)ðŸ“š Gerando documentaÃ§Ã£o Swagger...$(NC)"
	docker compose exec php php artisan l5-swagger:generate || true
	@echo "$(GREEN)âœ… DocumentaÃ§Ã£o gerada!$(NC)"
	@echo "$(YELLOW)ðŸ’¡ Acesse: http://localhost:8080/api/documentation$(NC)"

swagger-ui: ## Abre Swagger UI no navegador
	@echo "$(GREEN)ðŸŒ Abrindo Swagger UI...$(NC)"
	@xdg-open http://localhost:8080/api/documentation 2>/dev/null || \
	 open http://localhost:8080/api/documentation 2>/dev/null || \
	 echo "$(YELLOW)ðŸ’¡ Acesse: http://localhost:8080/api/documentation$(NC)"

swagger-config: ## Mostra configuraÃ§Ã£o atual do Swagger
	@echo "$(GREEN)âš™ï¸  ConfiguraÃ§Ã£o do Swagger:$(NC)"
	@if [ -f "laravel/config/l5-swagger.php" ]; then \
		cat laravel/config/l5-swagger.php | grep -A 5 "routes" || true; \
	else \
		echo "$(YELLOW)âš ï¸  Arquivo de configuraÃ§Ã£o nÃ£o encontrado$(NC)"; \
		echo "$(YELLOW)ðŸ’¡ Execute: make swagger-publish$(NC)"; \
	fi


##@ ðŸ“Š MÃ©tricas e RelatÃ³rios

code-metrics: ## Mostra mÃ©tricas gerais do cÃ³digo
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo "$(GREEN)ðŸ“Š MÃ©tricas do CÃ³digo$(NC)"
	@echo "$(BLUE)â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”$(NC)"
	@echo ""
	@echo "$(YELLOW)ðŸ“ Arquivos PHP:$(NC)"
	@find laravel/app -name "*.php" 2>/dev/null | wc -l || echo "0"
	@echo ""
	@echo "$(YELLOW)ðŸ“ Linhas de cÃ³digo (estimado):$(NC)"
	@find laravel/app -name "*.php" -exec cat {} \; 2>/dev/null | wc -l || echo "0"
	@echo ""
	@echo "$(YELLOW)ðŸ§ª Testes:$(NC)"
	@find laravel/tests -name "*.php" 2>/dev/null | wc -l || echo "0"
	@echo ""
	@if docker compose exec php composer show | grep -q phploc; then \
		echo "$(YELLOW)ðŸ“Š AnÃ¡lise detalhada:$(NC)"; \
		docker compose exec php ./vendor/bin/phploc laravel/app || true; \
	fi

